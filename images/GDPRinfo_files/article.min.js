webpackJsonp([0],[,,,,function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s}),i.d(e,"c",function(){return o}),i.d(e,"d",function(){return r}),i.d(e,"e",function(){return l}),i.d(e,"f",function(){return a}),i.d(e,"g",function(){return c}),i.d(e,"h",function(){return h}),i.d(e,"i",function(){return u}),i.d(e,"j",function(){return f}),i.d(e,"k",function(){return d}),i.d(e,"l",function(){return p});var n={UNKNOWN:-1,ARTICLE:0,GALLERY:1,VIDEO:2,"SHOW-SUMMARY":3},s=".js-a-gallery",o=".js-g-image",r=".js-g-view-thumbnail",l=".js-g-view-list",a=".js-g-view-thumbnails",c=".js-a-video-body",h=".js-v-player-embed",u=".js-v-player",f=".js-v-player-playlist",d=".js-g-image-nav",p=".js-a-gallery__message-btn"},function(t,e,i){"use strict";function n(t){c.a.call(this),this._hooks={},this._loading=!1,this._pageCounter=0,this._throttle=0,this._trigger=t.trigger,this._urlBuilder=null,"number"==typeof t.throttle&&(this._throttle=t.throttle),"function"==typeof t.url?this._urlBuilder=t.url:this._urlBuilder=s(t.url),this.el=t.el,this.isEnabled=!1,this.isPaused=!1}function s(t){return function(){return t}}function o(t){this.emit("loadError",Object(l.k)("loadError",this,{data:t.event,originalRequest:t.request})),this._loading=!1}function r(t){this.emit("loadComplete",Object(l.k)("loadComplete",this,{data:t.event,originalRequest:t.request})),this._loading=!1}var l=i(0),a=i(1),c=i.n(a);n.prototype=Object(l.C)(c.a.prototype,{_bind:function(){this._throttle>0?this._hooks.onScroll=Object(l.Q)(this.update,this._throttle,this):this._hooks.onScroll=this.update.bind(this),Object(l.b)(this.el,"scroll",this._hooks.onScroll)},_loadUrl:function(){var t=this._urlBuilder(++this._pageCounter);this._loading=!0,this.emit("loading",Object(l.k)("loading",this,{url:t})),Object(l.e)({url:t}).then(r.bind(this),o.bind(this))},_unbind:function(){Object(l.O)(this.el,"scroll",this._hooks.onScroll),this._hooks.onScroll=null},destroy:function(){this.disable(),this.el=null,this.emit("destroy",Object(l.k)("destroy",this)),this.removeAllListeners()},disable:function(){this.isEnabled&&(this.isEnabled=!1,this._unbind(),this.emit("disable",Object(l.k)("disable",this)))},enable:function(){this.isEnabled||(this.isEnabled=!0,this._bind(),this.emit("enable",Object(l.k)("enable",this)))},pause:function(){this.isPaused=!0,this.emit("pause",Object(l.k)("pause",this))},resume:function(){this.isPaused=!1,this.emit("resume",Object(l.k)("resume",this))},update:function(){if(!this._loading&&!this.isPaused&&this.isEnabled){var t=Object(l.x)(this.el);this._trigger(t)&&this._loadUrl()}}}),e.a=n},,,function(t,e,i){"use strict";function n(t,e,i){t.on(i,function(t){t.bubbles&&e.emit(i,t)})}function s(){return"SPR"in window}function o(){var t=document.location.protocol+"//d8rk54i4mohrb.cloudfront.net/js/reach.js";return Object(_.G)(t)}function r(t){s()&&SPR.Reach.collect(t)}function l(){s()&&SPR.stop()}function a(t){return s()?(t?r(t):l(),Promise.resolve()):o().then(function(){return t?r(t):l(),Promise.resolve()})}function c(){return Object(_.H)().then(function(){return window.instgrm.Embeds.process(),window.twttr.widgets.load(),window.FB.init({version:"v2.3",xfbml:!0}),window.imgurEmbed.createIframe?window.imgurEmbed.createIframe():window.imgurEmbed.tasks++,window.skyscanner.widgets.load(),Promise.resolve()},function(){console.error("Error",arguments)}).catch(function(){console.error("Error",arguments)})}function h(t){var e=t.getAttribute("data-meta-title").trim();return null!==e&&""!==e?e:t.querySelector(".a-header__title").innerText}function u(t){var e=t.getAttribute("data-article-url");return"https:"===e.substr(0,6)?e=e.substr(6):"http:"===e.substr(0,5)&&(e=e.substr(5)),window.location.protocol+e}function f(t){return t.getAttribute("data-article-uid")}function d(t){var e=t.getAttribute("data-article-type");return e?(e=e.toUpperCase(),y.a.hasOwnProperty(e)?y.a[e]:y.a.UNKNOWN):y.a.UNKNOWN}function p(t){var e=Object(_.r)(v.a.abbr),i=e+"_",n=t;return t.substr(0,i.length)!==i&&(n=i+n),window[e].Store.get(n)}function g(t,e){var i=Object(_.r)(v.a.abbr),n=i+"_",s=t;return t.substr(0,n.length)!==n&&(s=n+s),window[i].Store.set(s,e)}function b(t){return t.type===y.a.GALLERY||t.type===y.a["SHOW-SUMMARY"]}function m(){var t=null;t="gapi"in window?Promise.resolve():Object(_.G)("https://apis.google.com/js/platform.js"),t.then(function(){gapi.ytsubscribe.go()})}e.a=n,e.c=l,e.b=a,e.l=c,e.d=h,e.g=u,e.f=f,e.e=d,e.h=p,e.k=g,e.i=b,e.j=m;var v=i(15),_=i(0),y=i(4)},function(t,e,i){"use strict";function n(t,e){return Object(M.k)("add",t,{article:e,infinite:e.isInfinite})}function s(t){return Object(M.k)("blur",t,{bubbles:!0})}function o(t){return Object(M.k)("focus",t,{bubbles:!0})}function r(t,e){return Object(M.k)("imageblur",t,{bubbles:!0,image:t.imageElements[e],imageIndex:e})}function l(t,e){return Object(M.k)("imagefocus",t,{bubbles:!0,image:t.imageElements[e],imageIndex:e})}function a(t){return Object(M.k)("next",t)}function c(t){return Object(M.k)("previous",t)}function h(t,e){return Object(M.k)("viewchange",t,{bubbles:!0,layoutView:e})}function u(t){return Object(M.k)("expand",t,{bubbles:!0})}function f(t,e){return Object(M.k)("videoselect",t,{bubbles:!0,videoIndex:e})}function d(t,e){return Object(M.k)("videochange",t,{bubbles:!0,videoIndex:e})}function p(t){q.a.call(this,{wildcard:!0}),this.bounds=null,this.el=t,this._init()}function g(t,e){q.a.call(this,{wildcard:!0});var i=e||{};this.focusedImageIndex=-1,this._hooks={imageElementscroll:null,navScroll:null,thumbnailClick:null},this.parentArticle=i.parentArticle||null,this.bounds=null,this._elementScroll=new V.a(window),this._imagePositions=null,this._windowHeightHalf=Number.Infinity,this.el=t,this.imageElements=_(this.el.querySelectorAll(R.c)),this.imageNavigation=null,this._imageNavigationState="default",this._imageNavigationOffset=60,this.layoutView="list",this._init()}function b(t,e){t.style.position="absolute",t.style.top=e}function m(t){Object(M.M)(t,"is-fixed"),t.style.position="",t.style.top=""}function v(t,e){Object(M.a)(t,"is-fixed"),t.style.position="fixed",t.style.top=e}function _(t){for(var e=t.length,i=new Array(e);e--;)i[e]=t[e];return i}function y(t,e){q.a.call(this,{wildcard:!0});var i=e||{};this.ads=i.ads||null,this.analytics=i.analytics||null,this.bounds=null,this.el=t,this.gallery=i.gallery||null,this.manager=i.manager,this.properties=null,this.simplereach=i.simplereach||null,this.type=Object(B.e)(this.el),this.isInfinite=i.infinite||!1,this._init()}function O(t){q.a.call(this,{wildcard:!0}),this._hooks={resize:null},this._infiniteScroll=null,this.bounds=null,this.el=t,this.selectedIndex=0,this.videoConfigs=[],this._init()}function S(t){for(var e=t.parentNode,i=e.children.length;i--;)if(e.children[i]===t)return i;return-1}function j(){return Object(B.h)("playlist_json")}function w(t,e){for(var i=-1,n=e.length;++i<n;)t.appendChild(e[0])}function T(t){q.a.call(this,{wildcard:!0}),this.el=t,this.playlist=null,this._init()}function E(){q.a.call(this,{wildcard:!0}),this._hooks={resize:null,scroll:null},this._infiniteScroll=null,this._pageHeight=Number.Infinity,this._windowHeight=Number.Infinity,this.articles=[],this.focusedIndex=-1,this._init()}function I(t){return t>=this._pageHeight-Q}function k(){var t=A(Object(B.h)("article_referral_uid")),e=A(Object(B.h)("article_exclude_uid")),i=Object(M.T)(Object(B.h)("infinite_url"),{referral_uid:t,exclude_uid:e});return location.origin+i}function A(t){return String(t).replace(/[\W]/gi,"")}function x(){for(var t=Object(M.z)(),e=this.articles.length,i=null,n=-1;++n<e;)if(i=this.articles[n],this.focusedIndex!==n&&!(i.bounds.top>t+this._windowHeight||i.bounds.bottom<t+this._windowHeight)){this._triggerFocusBlur(n);break}}function C(t){throw this.disableInfiniteScroll(),new Error("Failed at getting the next article",t)}function N(t){var e=t.originalRequest.responseText,i=null;try{i=JSON.parse(e)}catch(t){throw this.disableInfiniteScroll(),new Error("Error trying to parse response JSON",t)}if(i.hasOwnProperty("data")){if(i=i.data,!i.hasOwnProperty("template"))return void this.disableInfiniteScroll();i.stop&&this.disableInfiniteScroll();var n=document.createDocumentFragment(),s=Object(M.d)(n);s(i.template),Object(M.D)(n,document.getElementById("infiniteScrollHook"));var o=document.querySelectorAll(".a-main");o=o[o.length-1];var r=null;i.hasOwnProperty("config_ad")&&null!==i.config_ad&&(r=i.config_ad.data);var l=null;i.hasOwnProperty("config_analytics")&&null!==i.config_analytics&&(l=i.config_analytics.data,l.location=Object(M.R)(l.location));var a=null;i.hasOwnProperty("config_simplereach")&&null!==i.config_simplereach&&(a=i.config_simplereach.data),this.add(o,{ads:r,analytics:l,infinite:!0,simplereach:a}),i.local_storage&&i.local_storage.forEach(function(t){Object(B.k)(t.key,t.value)}),this.resize(0),n=null,s=null}}function L(t){var e=t.target;if(!e.isInfinite&&K)return void(K=!1);K&&(K=!1);var i=e.properties.url+location.search,n=window.location.href;if(D.c&&history.replaceState({},e.properties.title,i),document.title=e.properties.title,Object(B.c)(),e.simplereach){var s=Object(M.j)(e.simplereach);s.ref_url=n,Object(B.b)(s)}}var z=i(10),P=i(1),q=i.n(P),M=i(0),D=i(6),H=i(5),R=i(4),B=i(8),F=i(17);p.prototype=Object(M.C)(q.a.prototype,{_init:function(){var t=this.el.querySelector(".g-image-nav__btn--next");t&&Object(M.b)(t,"click",function(){this.emit("next",a(this))}.bind(this)),t=this.el.querySelector(".g-image-nav__btn--previous"),t&&Object(M.b)(t,"click",function(){this.emit("previous",c(this))}.bind(this)),Object(M.M)(this.el,"is-hidden"),this.resize()},constructor:p,disableNextButton:function(){var t=this.el.querySelector(".g-image-nav__btn--next");t&&t.setAttribute("disabled",!0)},disablePreviousButton:function(){var t=this.el.querySelector(".g-image-nav__btn--previous");t&&t.setAttribute("disabled",!0)},enableNextButton:function(){var t=this.el.querySelector(".g-image-nav__btn--next");t&&t.removeAttribute("disabled")},enablePreviousButton:function(){var t=this.el.querySelector(".g-image-nav__btn--previous");t&&t.removeAttribute("disabled")},resize:function(){this.bounds=Object(M.p)(this.el)}});var W=p,V=i(12);g.prototype=Object(M.C)(q.a.prototype,{constructor:g,_thumbnailClick:function(t){var e=parseInt(t.delegateTarget.getAttribute("data-thumbnail-index"),10),i=this.imageElements[e];this.displayListView(),window.scrollTo(0,Object(M.p)(i).top-60)},_init:function(){F.a.init(),this.el.querySelector(R.k)&&(this.imageNavigation=new W(this.el.querySelector(R.k)),this.imageNavigation.on("next",function(){this.gotoImage(this.focusedImageIndex+1)}.bind(this)),this.imageNavigation.on("previous",function(){this.gotoImage(this.focusedImageIndex-1)}.bind(this))),this._hooks.thumbnailClick=Object(M.m)(R.d,this._thumbnailClick,this),Object(M.b)(this.el.querySelector(R.f),"click",this._hooks.thumbnailClick),this.resize()},resize:function(){this.bounds=Object(M.p)(this.el),this._imagePositions=this.imageElements.map(M.p),this._windowHeightHalf=window.innerHeight/2,null!==this.imageNavigation&&this.imageNavigation.resize(),this.updateImageScroll(),this.updateNavScroll()},bindNavScrollListener:function(){null!==this.imageNavigation&&null===this._hooks.navScroll&&(this._hooks.navScroll=this.updateNavScroll.bind(this),Object(M.b)(window,"scroll",this._hooks.navScroll))},unbindNavScrollListener:function(){null!==this.imageNavigation&&null!==this._hooks.navScroll&&(Object(M.O)(window,"scroll",this._hooks.navScroll),this._hooks.navScroll=null)},updateNavScroll:function(t){if(null!==this.imageNavigation){var e=Object(M.z)(),i=this.bounds.top-this._imageNavigationOffset;if(e>=this.bounds.bottom-60-this.imageNavigation.bounds.height){if(!t&&"absolute"===this._imageNavigationState)return;return this._imageNavigationState="absolute",void b(this.imageNavigation.el,this.bounds.bottom-this.bounds.top-this.imageNavigation.bounds.height+"px")}if(e<i){if(!t&&"default"===this._imageNavigationState)return;return this._imageNavigationState="default",void m(this.imageNavigation.el)}if(e>=i){if(!t&&"fixed"===this._imageNavigationState)return;this._imageNavigationState="fixed",v(this.imageNavigation.el,this._imageNavigationOffset+"px")}}},gotoImage:function(t){var e=t;e<0?e=0:e>this.imageElements.length-1&&(e=this.imageElements.length-1),e!==this.focusedImageIndex&&this._elementScroll.start({x:0,y:this._imagePositions[e].top},300,{offset:{x:0,y:-this._imageNavigationOffset},relative:!1,stopOnUserInput:!1})},bindImageScrollListener:function(){null===this._hooks.imageElementscroll&&(this._hooks.imageElementscroll=Object(M.Q)(this.updateImageScroll,100,this),Object(M.b)(window,"scroll",this._hooks.imageElementscroll))},unbindImageScrollListener:function(){null!==this._hooks.scroll&&(Object(M.O)(window,"scroll",this._hooks.imageElementscroll),this._hooks.imageElementscroll=null)},updateImageScroll:function(){for(var t=Object(M.z)()+this._windowHeightHalf,e=-1,i=this._imagePositions.length,n=null;++e<i;)if(n=this._imagePositions[e],this.focusedImageIndex!==e&&!(n.top>t||n.bottom<t)){-1!==this.focusedImageIndex&&this.emit("imageblur",r(this,this.focusedImageIndex)),this.focusedImageIndex=e,this.emit("imagefocus",l(this,this.focusedImageIndex)),null!==this.imageNavigation&&(0===this.focusedImageIndex?(this.imageNavigation.enableNextButton(),this.imageNavigation.disablePreviousButton()):this.focusedImageIndex===this.imageElements.length-1?(this.imageNavigation.enablePreviousButton(),this.imageNavigation.disableNextButton()):(this.imageNavigation.enableNextButton(),this.imageNavigation.enablePreviousButton()));break}},displayListView:function(){"list"!==this.layoutView&&(this.layoutView="list",Object(M.a)(this.el.querySelector(R.f),"is-hidden"),Object(M.M)(this.el.querySelector(R.e),"is-hidden"),null!==this.imageNavigation&&Object(M.M)(this.imageNavigation.el,"is-hidden"),this.emit("viewchange",h(this,this.layoutView)))},displayThumbnailView:function(){if("thumbnail"!==this.layoutView){this.layoutView="thumbnail";var t=this.el.querySelector(R.f);Object(M.M)(t,"is-hidden"),Object(M.a)(this.el.querySelector(R.e),"is-hidden"),null!==this.imageNavigation&&Object(M.a)(this.imageNavigation.el,"is-hidden");var e=Object(M.p)(t),i=Object(M.z)();e.top<=i&&window.scrollTo(0,e.top-this._imageNavigationOffset),this.emit("viewchange",h(this,this.layoutView))}},toggleView:function(){"list"===this.layoutView?this.displayThumbnailView():this.displayListView()}});var Y=g;y.prototype=Object(M.C)(q.a.prototype,{_bindBubblingEvents:function(){null!==this.gallery&&(Object(B.a)(this.gallery,this,"viewchange"),Object(B.a)(this.gallery,this,"imagefocus"),Object(B.a)(this.gallery,this,"imageblur"))},_getArticleProperties:function(){this.properties={title:Object(B.d)(this.el),url:Object(B.g)(this.el),uid:Object(B.f)(this.el)}},_init:function(){Object(B.l)();var t=this.el.querySelector(R.b);null===this.gallery&&t?(this.gallery=new Y(t,{parentArticle:this}),this.on("focus",function(){this.gallery.bindImageScrollListener(),this.gallery.bindNavScrollListener(),this.gallery.updateImageScroll(),this.gallery.updateNavScroll()}.bind(this)),this.on("blur",function(){this.gallery.unbindImageScrollListener(),this.gallery.unbindNavScrollListener(),this.gallery.updateImageScroll(),this.gallery.updateNavScroll()}.bind(this))):null!==this.gallery&&(this.gallery.parentArticle=this),this.isInfinite&&null!==this.gallery&&Object(M.c)(this.el.querySelector(R.l),"click",this.expand.bind(this)),this._bindBubblingEvents(),this._getArticleProperties()},constructor:y,expand:function(){Object(M.M)(this.el.querySelector(R.b),"is-closed"),this.resize(),this.emit("expand",u(this))},resize:function(){this.bounds=Object(M.p)(this.el),null!==this.gallery&&this.gallery.resize()}});var U=y;O.prototype=Object(M.C)(q.a.prototype,{_bindPlayerListeners:function(){var t=Object(M.m)(".js-a-video__playlist-item",function(t){if(0!==this.videoConfigs.length){t.preventDefault();var e=S(t.delegateTarget);this.select(e)}},this);Object(M.b)(this.el,"click",t)},_init:function(){this._bindPlayerListeners(),this.resize()},_onListLoadError:function(){},_onListLoadSuccess:function(t){var e=t.originalRequest.responseText,i=null;try{i=JSON.parse(e)}catch(t){throw this.disableInfiniteScroll(),new Error("Error trying to parse response JSON",t)}if(i.hasOwnProperty("data")){if(i=i.data,!i.hasOwnProperty("template"))return void this.disableInfiniteScroll();i.stop&&this.disableInfiniteScroll();var n=document.createDocumentFragment();Object(M.d)(n)(i.template),w(this.el.querySelector(".js-a-video__playlist"),n.children[0].children),i.local_storage&&i.local_storage.forEach(function(t){/playlist_json$/.test(t.key)?this.videoConfigs=this.videoConfigs.concat(t.value):Object(B.k)(t.key,t.value)}.bind(this)),this.resize()}},constructor:O,disableInfiniteScroll:function(){null!==this._infiniteScroll&&(this._infiniteScroll.disable(),this._infiniteScroll.removeAllListeners(),this._infiniteScroll=null,Object(M.O)(window,"resize",this._hooks.resize),this._hooks.resize=null)},enableInfiniteScroll:function(){null===this._infiniteScroll&&(this._infiniteScroll=new H.a({el:this.el.querySelector(".a-video__sidebar__list"),throttle:150,trigger:function(t){return this.el.scrollHeight/2<t},url:function(t){var e=Object(B.h)("playlist_infinite_url");return location.origin+e+"?page="+(t+1)}}),this._infiniteScroll.on("loadError",this._onListLoadError.bind(this)),this._infiniteScroll.on("loadComplete",this._onListLoadSuccess.bind(this)),this._infiniteScroll.enable(),this._hooks.resize=Object(M.l)(this.resize,200,this),Object(M.b)(window,"resize",this._hooks.resize))},loadConfigs:function(){var t=j();t&&(this.videoConfigs=t)},resize:function(){this.bounds=Object(M.p)(this.el)},select:function(t){if(t===this.selectedIndex)return void this.emit("videoselect",f(this,this.selectedIndex));var e=".js-a-video__playlist-item:nth-child("+(this.selectedIndex+1)+")";this.selectedIndex>-1&&Object(M.M)(this.el.querySelector(e),"is-active"),this.selectedIndex=t,e=".js-a-video__playlist-item:nth-child("+(this.selectedIndex+1)+")",Object(M.a)(this.el.querySelector(e),"is-active"),this.emit("videochange",d(this,this.selectedIndex))}});var X=O;T.prototype=Object(M.C)(q.a.prototype,{_bubbleEvents:function(){null!==this.playlist&&(Object(B.a)(this.playlist,this,"videoselect"),Object(B.a)(this.playlist,this,"videochange"))},_init:function(){var t=this.el.querySelector(R.j);t&&(this.playlist=new X(t)),this._bubbleEvents(),Object(B.j)()},constructor:T,resize:function(){null!==this.playlist&&this.playlist.resize()}});var G=document.querySelector(R.i),J=null;G&&(J=new T(G,{}));var Z=J,Q=500,K=!0;E.prototype=Object(M.C)(q.a.prototype,{_triggerFocusBlur:function(t){var e=null,i=null;-1!==this.focusedIndex&&(e=this.articles[this.focusedIndex],i=s(e),e.emit("blur",i)),this.focusedIndex=t,e=this.articles[t],i=o(e),e.emit("focus",i)},_onVideoChange:function(t){var e=Z.playlist.videoConfigs[t.videoIndex];document.querySelector(R.h).innerHTML=e.embed,document.querySelector(R.g).innerHTML=e.content;var i=document.querySelector(".a-main");i.setAttribute("data-article-uid",e.data_uid),i.setAttribute("data-article-url",e.data_url),i.setAttribute("data-meta-title",e.meta_title);var n=this.getArticleByUid(e.data_uid),s=-1;n?s=this.articles.indexOf(n):(n=this.add(i,{analytics:JSON.parse(e.config_analytics),isInfinite:!0,simplereach:e.config_simplereach}),s=this.articles.length-1),Object(B.j)(),K=!1,this._triggerFocusBlur(s)},_init:function(){Object(M.J)(this.resize.bind(this,0)),null!==Z?(Object(B.a)(Z,this,"videoselect"),Object(B.a)(Z,this,"videochange"),Z.on("videochange",this._onVideoChange.bind(this))):(this._hooks.scroll=Object(M.Q)(x,33,this),Object(M.b)(window,"scroll",this._hooks.scroll)),this.on("focus",L)},_bindArticleBubbles:function(t){Object(B.a)(t,this,"focus"),Object(B.a)(t,this,"blur"),Object(B.a)(t,this,"imagefocus"),Object(B.a)(t,this,"imageblur"),Object(B.a)(t,this,"viewchange"),Object(B.a)(t,this,"expand")},add:function(t,e){var i=Object(M.f)({ads:null,analytics:null,infinite:!1,simplereach:null},Object(M.j)(e),{manager:this}),s=new U(t,i);return this._bindArticleBubbles(s),s.resize(),this.articles.push(s),this.emit("add",n(this,s)),s},constructor:E,disableInfiniteScroll:function(){null!==this._infiniteScroll&&(this._infiniteScroll.disable(),this._infiniteScroll.removeAllListeners(),this._infiniteScroll=null,Object(M.O)(window,"resize",this._hooks.resize),this._hooks.resize=null,Object(M.O)(window,"scroll",this._hooks.scroll),this._hooks.scroll=null)},enableInfiniteScroll:function(){null===this._infiniteScroll&&(this._infiniteScroll=new H.a({el:window,trigger:I.bind(this),url:k}),this._infiniteScroll.on("loadError",C.bind(this)),this._infiniteScroll.on("loadComplete",N.bind(this)),this._infiniteScroll.enable(),this._hooks.resize=Object(M.l)(this.resize,500,this),Object(M.b)(window,"resize",this._hooks.resize))},getArticleByUid:function(t){for(var e=this.articles.length;e--;)if(this.articles[e].uid===t)return this.articles[e];return!1},resize:function(t,e){if(0!==arguments.length){this._pageHeight=document.body.scrollHeight-window.innerHeight,this._windowHeight=window.innerHeight/2;var i=t<0?0:parseInt(t),n=void 0===e?this.articles.length:parseInt(e);if(!(n<1)){this.articles.slice(i,i+n).forEach(function(t){t.resize()})}}}});var $=new E,tt=$;i.d(e,"a",function(){return tt}),i.d(e,!1,function(){return U}),i.d(e,!1,function(){return Y}),i.d(e,!1,function(){return W}),i.d(e,"b",function(){return Z}),z.a.init()},,,function(t,e,i){"use strict";function n(t){c.a.call(this),this._frame=null,this._scrollStart=Object(h.i)(f),this._setPosition=Object(h.F)(t)?l:r,this._timeStart=null,this._updateBound=this._update.bind(this),this._userInput=null,this.duration=0,this.el=t,this.isScrolling=!1,this.offset=Object(h.i)(f),this.scrollTarget=null}function s(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}function o(t){return cancelAnimationFrame(t._frame),t._unbindStopOnInput(),t.isScrolling=!1,t.scrollTarget=null,t._frame=null,t._scrollStart=null,t._timeStart=null,t}function r(t,e,i){void 0!==e&&(t.scrollLeft=e),void 0!==i&&(t.scrollTop=i)}function l(t,e,i){t.scrollTo(e,i)}var a=i(1),c=i.n(a),h=i(0),u={offset:{x:0,y:0},relative:!0,stopOnUserInput:!0},f={x:0,y:0};n.prototype=Object(h.C)(c.a.prototype,{constructor:n,_bindStopOnInput:function(){this._userInput=function(){this.stop()}.bind(this),Object(h.b)(this.el,"wheel",this._userInput),Object(h.b)(this.el,"touchstart",this._userInput)},_complete:function(){o(this),this.emit("complete")},_unbindStopOnInput:function(){null!==this._userInput&&(Object(h.O)(this.el,"wheel",this._userInput),Object(h.O)(this.el,"touchstart",this._userInput),this._userInput=null)},_update:function(t){null===this._timeStart&&(this._timeStart=t);var e=t-this._timeStart,i=s(e,this._scrollStart.x,this.scrollTarget.x,this.duration),n=s(e,this._scrollStart.y,this.scrollTarget.y,this.duration);this._setPosition(this.el,i,n),this.emit("update",n),e<this.duration?this._frame=requestAnimationFrame(this._updateBound):(this._setPosition(this.el,this._scrollStart.x+this.scrollTarget.x,this._scrollStart.y+this.scrollTarget.y),this._complete())},destroy:function(){this.stop(),this.removeAllListeners(),this._setPosition=null,this._updateBound=null},start:function(t,e,i){var n=Object(h.f)({},u,i);this.isScrolling&&this.stop(),this.isScrolling=!0,this.duration=e,this.offset.x=n.offset.x,this.offset.y=n.offset.y,n.stopOnUserInput&&this._bindStopOnInput(),this._scrollStart=Object(h.f)({},f,{x:Object(h.w)(this.el),y:Object(h.x)(this.el)}),this.scrollTarget=Object(h.i)(t),this.scrollTarget.x=Math.ceil(this.scrollTarget.x+this.offset.x),this.scrollTarget.y=Math.ceil(this.scrollTarget.y+this.offset.y),n.relative||(this.scrollTarget.x-=this._scrollStart.x,this.scrollTarget.y-=this._scrollStart.y),this.emit("start"),window.requestAnimationFrame?this._frame=requestAnimationFrame(this._updateBound):(this._setPosition(this.scrollTarget.x,this.scrollTarget.y),this._complete())},stop:function(){this.isScrolling&&(o(this),this.emit("stop"))}}),e.a=n},,,,function(t,e,i){"use strict";function n(){N.a.call(this),this.groups=[],this.obstacles=[],this.scrolls=[],this.stickies=[]}function s(t,e){o(t,e)||t.push(e)}function o(t,e,i){if(!e)return!1;for(var n=t.length;n--&&t[n]!==e&&t[n].el!==e;);return i?n:-1!==n}function r(t){return Object(L.f)({},z,t)}function l(t){t.recalculate(!0)}function a(t,e){var i=-1;return-1!==(i=o(t,e,!0))&&(t.splice(i,1),!0)}function c(t,e){var i=Object(L.f)({group:null},e);N.a.call(this),this.el=t,this.id=q++,this.group=i.group,this.offset={bottom:0,left:0,right:0,top:0},this.position={left:0,top:0},this.size={height:0,width:0};var n=h(this.group),s=!1;n&&(-1!==(s=P.hasGroup(n,!0))?this.group=P.groups[s]:(this.group=new R(this.group),this.group.recalculate())),s=null,n=null}function h(t){return"string"==typeof t?document.querySelector(t):t instanceof HTMLElement?t:void 0}function u(t,e){M.call(this,t,e),P.addObstacle(this)}function f(t){for(var e=t.length,i=new Array(e);e--;)i[e]=t[e];return i}function d(t,e){if(M.call(this,t,e),this.state=d.STATE_INITIAL,this._elStick=this.el.querySelector(".stick-element"),this._elWrapper=this.el,this._absoluteTop=0,!this._elStick)throw new TypeError("element does not contain a .stick-element");P.addStick(this)}function p(t){return"[object Array]"===Object.prototype.toString.call(t)}function g(t,e){for(var i in e)e.hasOwnProperty(i)&&function(e,i){t.style[i]=e}(e[i],i)}function b(t,e,i){Object(L.M)(t,e),Object(L.a)(t,i)}function m(t){for(var e=t.length,i=new Array(e);e--;)i[e]=t[e];return i}function v(t){N.a.call(this),this.children=[],this.el=t,this.position={left:0,top:0},this.scroll=null,this.size={height:0,width:0},P.addGroup(this)}function _(t,e){null!==t.group&&t.group.removeChild(t),t.group=e}function y(t){return t instanceof D}function O(t){return t instanceof H}function S(t){return t.recalculate()}function j(t,e){var i=Object(L.f)({},e);if(N.a.call(this),this.children=[],this.el=t,this.isPaused=!1,this.offset={bottom:0,left:0,right:0,top:0},this.position={left:0,top:0},this.size={height:0,width:0},this._eventHooks={},this._lastScrollY=0,void 0!==i.throttle){if("number"!=typeof i.throttle)throw new TypeError("throttle must be of type number");this._eventHooks.scroll=Object(L.Q)(this.update,i.throttle,this)}else this._eventHooks.scroll=this.update.bind(this);this.el.addEventListener("scroll",this._eventHooks.scroll),P.addScroll(this)}function w(t,e){null!==t.scroll&&t.scroll.removeChild(t),t.scroll=e}function T(t){return function(e){return e.isOnScreen(t)}}function E(t,e,i){for(var n=i-1,s=e.length;++n<s;)if(e[n].group===t)return e[n];return!1}function I(t,e){return t>e?"down":t<e?"up":"neutral"}function k(t,e){var i=t.group;if(!i)return!0;for(var n=-1,s=e.length,o=-1;++n<s;)if(e[n]===t)o=n;else if(e[n].group===i&&-1!==o)return!1;return!0}function A(t){return t instanceof R}function x(t){return t instanceof D}var C=i(1),N=i.n(C),L=i(0),z={silent:!1};n.prototype=Object(L.C)(N.a.prototype,{addGroup:function(t,e){var i=r(e);s(this.groups,t),i.silent||this.emit("add",t)},addObstacle:function(t,e){var i=r(e);s(this.obstacles,t),i.silent||this.emit("add",t)},addScroll:function(t,e){var i=r(e);s(this.scrolls,t),i.silent||this.emit("add",t)},addStick:function(t,e){var i=r(e);s(this.stickies,t),i.silent||this.emit("add",t)},constructor:n,hasGroup:function(t,e){return o(this.groups,t,e)},hasObstacle:function(t,e){return o(this.obstacles,t,e)},hasScroll:function(t,e){return o(this.scrolls,t,e)},hasStick:function(t,e){return o(this.stickies,t,e)},recalculate:function(){this.groups.forEach(l),this.scrolls.forEach(l)},removeGroup:function(t,e){var i=r(e);a(this.groups,t)&&!i.silent&&this.emit("remove",t)},removeObstacle:function(t,e){var i=r(e);a(this.obstacles,t)&&!i.silent&&this.emit("remove",t)},removeScroll:function(t,e){var i=r(e);a(this.scrolls,t)&&!i.silent&&this.emit("remove",t)},removeStick:function(t,e){var i=r(e);a(this.stickies,t)&&!i.silent&&this.emit("remove",t)}});var P=new n,q=0;c.prototype=Object(L.C)(N.a.prototype,{constructor:c,destroy:function(){this.removeAllListeners(),this.el=null,this.group=null,this.offset=null,this.position=null,this.size=null},recalculate:function(){var t=Object(L.p)(this.el);this.size.height=t.height,this.size.width=t.width,this.position.left=t.left,this.position.top=t.top}});var M=c;u.prototype=Object(L.C)(M.prototype,{constructor:u,destroy:function(){P.removeObstacle(this),M.prototype.destroy.call(this)}}),u.createObstacle=function(t,e){var i=null;if(i=f("string"==typeof t?document.querySelectorAll(t):t),0===i.length)return i;for(var n=Object(L.f)({},e),s=i.length;s--;)P.hasObstacle(i[s])||(i[s]=new u(i[s],n));return i=i.filter(function(t){return t instanceof u})};var D=u;d.prototype=Object(L.C)(M.prototype,{_setAbsolute:function(t,e){this.state!==d.STATE_ABSOLUTE&&(this.state=d.STATE_ABSOLUTE,this._absoluteTop=t,b(this._elStick,"stick-element--fixed","stick-element--absolute"),b(this._elWrapper,"stick-wrapper--fixed","stick-wrapper--absolute"),g(this._elWrapper,{height:this.size.height+"px"}),g(this._elStick,{marginTop:"",position:"relative",top:this._absoluteTop-this.position.top+this.offset.top+"px"}),e||this.emit("statechange",this.state))},_setFixed:function(t){this.state!==d.STATE_FIXED&&(this.state=d.STATE_FIXED,b(this._elStick,"stick-element--absolute","stick-element--fixed"),b(this._elWrapper,"stick-wrapper--absolute","stick-wrapper--fixed"),g(this._elWrapper,{height:this.size.height+"px"}),g(this._elStick,{marginTop:-(this.position.top-this.offset.top)+"px",position:"fixed",top:""}),t||this.emit("statechange",this.state))},_setInitial:function(t){this.state!==d.STATE_INITIAL&&(this.state=d.STATE_INITIAL,Object(L.M)(this._elStick,"stick-element--absolute"),Object(L.M)(this._elStick,"stick-element--fixed"),Object(L.M)(this._elWrapper,"stick-wrapper--absolute"),Object(L.M)(this._elWrapper,"stick-wrapper--fixed"),g(this._elWrapper,{height:""}),g(this._elStick,{marginTop:"",position:"",top:""}),t||this.emit("statechange",this.state))},_setNeutral:function(t){this.state!==d.STATE_NEUTRAL&&(this.state=d.STATE_NEUTRAL,t||this.emit("statechange",this.state))},constructor:M,destroy:function(){this.state=null,this._elStick=null,this._elWrapper=null,this._absoluteTop=0,P.removeStick(this),M.prototype.destroy.call(this)},recalculate:function(){var t=this.state;switch(this._setInitial(!0),M.prototype.recalculate.call(this),t){case d.STATE_FIXED:this._setFixed(!0);break;case d.STATE_ABSOLUTE:this._setAbsolute(this._absoluteTop,!0)}},updateOffset:function(t){switch(this.offset=Object(L.f)({},this.offset,{bottom:0,left:0,right:0,top:0},t),this.state){case d.STATE_FIXED:g(this._elStick,{marginTop:-(this.position.top-this.offset.top)+"px"});break;case d.STATE_ABSOLUTE:g(this._elStick,{top:this._absoluteTop-this.position.top+this.offset.top+"px"})}}}),d.createStick=function(t,e){var i=null;if(i="string"==typeof t?m(document.querySelectorAll(t)):p(t)?t.slice(0):t instanceof HTMLElement?[t]:m(t),0===i.length)return i;for(var n=Object(L.f)({},e),s=i.length;s--;)P.hasStick(i[s])||(i[s]=new d(i[s],n));return i=i.filter(function(t){return t instanceof d})},d.getStateTitleFromIndex=function(t){switch(t){case 0:return"Initial";case 1:return"Fixed";case 2:return"Absolute";case 3:return"Neutral";default:return"Unknown"}},d.STATE_INITIAL=0,d.STATE_FIXED=1,d.STATE_ABSOLUTE=2,d.STATE_NEUTRAL=3;var H=d;v.prototype=Object(L.C)(N.a.prototype,{addChild:function(t,e){if(!O(t)&&!y(t))throw new TypeError("item must be of type Stick");if(this.hasChild(t))return!1;var i=Object(L.f)({silent:!1,sort:!0},e);_(t,this),this.children.push(t),i.silent||this.emit("add",t),i.sort&&this.sortChildren()},addChildren:function(t,e){var i=Object(L.f)({silent:!1,sort:!0},e),n=i.sort;i.sort=!1;for(var s=-1,o=t.length;++s<o;)this.addChild(t[s],i);n&&this.sortChildren()},constructor:v,destroy:function(){this.el=null,this.children.length=0,this.children=null,this.removeAllListeners(),P.removeGroup(this)},hasChild:function(t,e){if(!t)return!1;if(!O(t)&&!y(t))return!1;var i=this.children.indexOf(t);return e?i:-1!==i},insertChild:function(t,e,i){if(e<0||e>this.children.length-1)return!1;if(!O(t)&&!y(t))throw new TypeError("item must be of type Stick");if(this.hasChild(t))return!1;var n=Object(L.f)({silent:!1,sort:!0},i);_(t,this),this.children.splice(e,0,t),n.silent||this.emit("insert",t,e),n.sort&&this.sortChildren()},isOnScreen:function(t){return!(t.top>this.position.top+this.size.height)&&!(t.bottom<this.position.top)},recalculate:function(t){var e=Object(L.p)(this.el);this.size.height=e.height,this.size.width=e.width,this.position.left=e.left,this.position.top=e.top,t&&this.children.forEach(S)},removeChild:function(t,e){var i=-1;if(-1===(i=this.hasChild(t,!0)))return!1;var n=Object(L.f)({silent:!1},e);return t.group=null,this.children.splice(i,1),n.silent||this.emit("remove",t),!0},sortChildren:function(){this.children.length>1&&this.children.sort(function(t,e){return t.position.top-e.position.top}),this.emit("sort",this.children)}});var R=v;j.prototype=Object(L.C)(N.a.prototype,{_updateDown:function(t,e){for(var i=t.children,n=-1,s=i.length,o=null,r=null,l=0,a=0;++n<s;)if(o=i[n],!x(o))if(r=E(o.group,i,n+1),o.state!==H.STATE_NEUTRAL)o.state===H.STATE_INITIAL&&o.position.top-o.offset.top<=e?o._setFixed():o.state===H.STATE_FIXED&&r?(l=r.position.top-r.offset.top,a=o.size.height+o.offset.top+o.offset.bottom,l<=e+a&&o._setAbsolute(l-a)):o.state===H.STATE_FIXED&&o.group&&(a=o.size.height+o.offset.top+o.offset.bottom,o.group.position.top+o.group.size.height<=e+a)&&o._setAbsolute(o.group.position.top+o.group.size.height-a);else{if(r&&(l=r.position.top-r.offset.top,a=o.size.height+o.offset.top+o.offset.bottom,l<=e+a)){o._setAbsolute(l-a);continue}if(o.group&&(a=o.size.height+o.offset.top+o.offset.bottom,o.group.position.top+o.group.size.height<=e+a)){o._setAbsolute(o.group.position.top+o.group.size.height-a);continue}if(o.position.top-o.offset.top<=e){o._setFixed();continue}o._setInitial()}},_updateNeutral:function(t,e){t.children.forEach(function(t){t._setNeutral&&t._setNeutral()}),this._updateDown(t,e)},_updateUp:function(t,e){for(var i=t.children,n=i.length,s=null,o=null,r=0,l=0;n--;)if(s=i[n],!x(s))if(s.state===H.STATE_FIXED&&s.position.top-s.offset.top>e)s._setInitial();else{if(s.state===H.STATE_ABSOLUTE){if(s.position.top-s.offset.top>e){s._setInitial();continue}o=E(s.group,i,n+1),o&&(o.state===H.STATE_INITIAL||x(o))&&(r=o.position.top-o.offset.top,l=s.size.height+s.offset.top+s.offset.bottom,r>e+l&&s._setFixed())}s.state===H.STATE_ABSOLUTE&&s.group&&k(s,i)&&(l=s.size.height+s.offset.top+s.offset.bottom,s.group.position.top+s.group.size.height>e+l)&&s._setFixed()}},addChild:function(t,e){if(!A(t))throw new TypeError("item must be of type Group");if(this.hasChild(t))return!1;var i=Object(L.f)({silent:!1,sort:!0},e);w(t,this),this.children.push(t),i.silent||this.emit("add",t),i.sort&&this.sortChildren()},addChildren:function(t,e){var i=Object(L.f)({silent:!1,sort:!0},e),n=i.sort;i.sort=!1;for(var s=-1,o=t.length;++s<o;)this.addChild(t[s],i);n&&this.sortChildren()},constructor:j,hasChild:function(t,e){if(!t)return!1;if(!A(t))return!1;var i=this.children.indexOf(t);return e?i:-1!==i},insertChild:function(t,e,i){if(e<0||e>this.children.length-1)return!1;if(!A(t))throw new TypeError("item must be of type Group");if(this.hasChild(t))return!1;var n=Object(L.f)({silent:!1,sort:!0},i);w(t,this),this.children.splice(e,0,t),n.silent||this.emit("insert",t,e),n.sort&&this.sortChildren()},pause:function(){this.isPaused||(this.isPaused=!0,this.silent||this.emit("pause"))},recalculate:function(t){var e=Object(L.p)(this.el);this.size.height=e.height,this.size.width=e.width,this.position.left=e.left,this.position.top=e.top,t&&this.children.forEach(function(e){e.recalculate(t)})},removeChild:function(t,e){var i=-1;if(-1===(i=this.hasChild(t,!0)))return!1;var n=Object(L.f)({silent:!1},e);t.scroll=null,this.children.splice(i,1),n.silent||this.emit("remove",t)},resume:function(){this.isPaused&&(this.isPaused=!1,this.silent||this.emit("resume"))},sortChildren:function(t){this.children.length>1&&this.children.sort(function(t,e){return t.position.top-e.position.top}),t&&this.children.forEach(function(t){t.sortChildren(!0)}),this.emit("sort",this.children)},update:function(){if(!this.isPaused){var t=this._lastScrollY,e=Object(L.x)(this.el),i=I(e,t);this._lastScrollY=e;var n=null;n="down"===i?this._updateDown.bind(this):"up"===i?this._updateUp.bind(this):this._updateNeutral.bind(this);var s={bottom:e+this.size.height,top:e},o=this.children.filter(T(s));0===o.length&&(o=this.children),o.forEach(function(t){n(t,e)}),this.emit("update",e,t,i)}}});var B=j;i.d(e,"a",function(){return R}),i.d(e,"b",function(){return P}),i.d(e,"c",function(){return D}),i.d(e,"d",function(){return B}),i.d(e,"e",function(){return H})},function(t,e,i){"use strict";function n(){D&&s();var t=document.querySelector("meta[name=viewport]");D=t.getAttribute("content"),t.setAttribute("content","user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1")}function s(){document.querySelector("meta[name=viewport]").setAttribute("content",D),D=null}function o(t){return!!t.querySelector("."+q)}function r(t){return!!t.querySelector("."+M)}function l(t){var e=t.querySelector("."+q);if(!e)return null;try{return JSON.parse(e.textContent)}catch(t){return console.warn("Magnifier config malformed"),null}}function a(t,e,i,n,s){return n+(t-e)/(i-e)*(s-n)}function c(t){return new Promise(function(e,i){var n=new Image;n.onload=function(){this.onload=null,this.onerror=null,e(t)},n.onerror=function(){this.onload=null,this.onerror=null,i(t)},n.src=t})}function h(t,e){return Object(x.k)("close",t,e)}function u(t,e){return Object(x.k)("open",t,e)}function f(t,e){return Object(x.k)("resize",t,e)}function d(t,e){R.a.call(this);var i=e||{};this._containerPosition=null,this._hooks={},this._magnifierConfig=l(t),this._magnifierLayer=null,this.el=t,this.isOpen=!1,this.padding={bottom:i.paddingBottom||0,left:i.paddingLeft||0,right:i.paddingRight||0,top:i.paddingTop||0},this.resize()}function p(t){var e=t.offsetWidth,i=t.offsetHeight,n=0,s=0;if(t.offsetParent)do{n+=t.offsetLeft,s+=t.offsetTop}while(t=t.offsetParent);return{height:i,left:n,top:s,width:e}}function g(t){R.a.call(this);var e=l(t),i=Object(x.f)({maxScale:2,minScale:b(e.width,e.height),scaleIncrement:.25},i);this._containerPosition=null,this._hammer=null,this._hooks={},this._magnifierConfig=e,this._magnifierLayer=null,this._magnifierImage=null,this._transform={scale:1,tmpScale:1,tmpX:0,tmpY:0,x:0,y:0},this.el=t,this.isOpen=!1,this.maxScale=i.maxScale,this.minScale=i.minScale,this.scaleIncrement=i.scaleIncrement,this.resize()}function b(t,e){return t>e?(window.innerWidth-25-25)/t:(window.innerHeight-25-25)/e}function m(t,e,i,n,s){var o=Math.ceil(i*n/2),r=Math.ceil(i*s/2),l=t,a=e,c=!1;return l>o?(l=o,c=!0):l<-o&&(l=-o,c=!0),a>r?(a=r,c=!0):a<-r&&(a=-r,c=!0),!!c&&{x:l,y:a}}function v(t,e){t.style.transform=e,t.style.oTransform=e,t.style.msTransform=e,t.style.mozTransform=e,t.style.webkitTransform=e}function _(){var t=document.querySelectorAll("."+N);if(t){for(var e=-1,i=t.length;++e<i;)E(t[e])||(I(t[e]),y(t[e]),w(t[e]));T()}}function y(t){var e=o(t),i=r(t);e&&i&&G.bindElement(t)}function O(t){J=t,t.setAttribute("is-focused",!0),Object(x.a)(t.querySelector("."+z),C)}function S(t){t.removeAttribute("is-focused"),Object(x.M)(t.querySelector("."+z),C),J=null}function j(t){t.preventDefault()}function w(t){A.d&&(Object(x.M)(t,"is-hover"),Object(x.a)(t,"is-touch"),Object(x.b)(t.querySelector("."+z),"focus",O),Object(x.b)(t.querySelector("."+z),"blur",S),Object(x.b)(t.querySelector("."+L),"click",function(t){Boolean(this.getAttribute("is-focused"))?S(this):O(this)}),Object(x.b)(t.querySelector("."+P+" a"),"click",j))}function T(){Z||(Z=!0,Object(x.b)(document.body,"touchend",function(t){if(null!==J){var e=Object(x.t)(t.target,"."+L);if(J===e)return;S(J)}}))}function E(t){return t.hasAttribute("data-figure-initialised")}function I(t){t.setAttribute("data-figure-initialised",!0)}var k=i(10),A=i(6),x=i(0),C="is-visible",N="c-figure",L="c-figure__container",z="c-figure__toolbar",P="c-figure__toolbar-listitem--more",q="js-c-figure-magnify-config",M="js-c-figure-magnify-zoom",D=null,H=i(1),R=i.n(H);d.prototype=Object(x.C)(R.a.prototype,{_bind:function(){this._bindDOM(),this._bindEvents(),this._bindStyles()},_bindDOM:function(){var t=this._magnifierLayer=document.createElement("div");t.className=["c-figure__magnifier","is-hidden"].join(" "),t.setAttribute("title","Click to close"),t.style.backgroundImage="url("+this._magnifierConfig.url+")",this.el.querySelector(".c-figure__wrapper").appendChild(t);t.offsetWidth;c(this._magnifierConfig.url).then(function(e){t.style.backgroundImage="url("+e+")",Object(x.M)(t,"is-hidden")})},_bindEvents:function(){this._hooks.onLayerClick=this.close.bind(this),Object(x.c)(this._magnifierLayer,"click",this._hooks.onLayerClick),this._hooks.onLayerMousemove=this._onLayerMousemove.bind(this),Object(x.b)(this._magnifierLayer,"mousemove",this._hooks.onLayerMousemove)},_bindStyles:function(){Object(x.a)(this.el,"has-magnifier"),Object(x.a)(this.el.querySelector("."+z),"is-hidden")},_onLayerMousemove:function(t){this.pan(t.pageX-this._containerPosition.left,t.pageY-this._containerPosition.top)},_unbind:function(){this._unbindStyles(),this._unbindEvents(),this._unbindDOM()},_unbindDOM:function(){Object(x.a)(this._magnifierLayer,"is-hidden"),setTimeout(function(){Object(x.N)(this._magnifierLayer),this._magnifierLayer=null}.bind(this),500)},_unbindEvents:function(){Object(x.O)(this._magnifierLayer,"click",this._hooks.onLayerClick),this._hooks.onLayerClick=null,Object(x.O)(this._magnifierLayer,"mousemove",this._hooks.onLayerMousemove),this._hooks.onLayerMousemove=null},_unbindStyles:function(){Object(x.M)(this.el,"has-magnifier"),Object(x.M)(this.el.querySelector("."+z),"is-hidden")},close:function(){this.isOpen&&(this.isOpen=!1,this._unbind(),this.emit("close",h(this)))},constructor:d,destroy:function(){this.close(),this.removeAllListeners(),this.el=null},open:function(){this.isOpen||(this.isOpen=!0,this._bind(),this.pan(this._containerPosition.width/2,this._containerPosition.height/2),this.emit("open",u(this)))},pan:function(t,e){var i=this.padding.left,n=this._containerPosition.width-this.padding.right-this.padding.left,s=this.padding.top,o=this._containerPosition.height-this.padding.bottom-this.padding.top,r=Object(x.g)(i,n,t),l=Object(x.g)(s,o,e),c=a(r,i,n,0,100),h=a(l,s,o,0,100);this._magnifierLayer.style.backgroundPosition=c+"% "+h+"%"},resize:function(){this._containerPosition=p(this.el),this.emit("resize",f(this))}}),d.bindElement=function(t,e){var i=t.querySelector("."+M),n=null;Object(x.b)(i,"click",function(i){return i.preventDefault(),n=new d(t,e),n.open(),n.once("close",function(){n.destroy(),n=null}),!1})};var B=d,F=i(21),W=i.n(F),V=i(22),Y=i.n(V);g.prototype=Object(x.C)(R.a.prototype,{_bindDom:function(){this._magnifierLayer=document.createElement("div"),this._magnifierLayer.className=["c-figure__magnifier","c-figure__magnifier--full-screen"].join(" "),this._magnifierLayer.innerHTML=Y()({image_url:this._magnifierConfig.url}),document.body.appendChild(this._magnifierLayer),this._magnifierImage=this._magnifierLayer.querySelector(".c-figure__magnifier-image")},_bindEvents:function(){this._hammer=new W.a(this._magnifierLayer,{}),this._hammer.get("pinch").set({enable:!0}),this._hooks.onClose=this.close.bind(this),this._hooks.onZoomIn=this.zoomIn.bind(this),this._hooks.onZoomOut=this.zoomOut.bind(this),this._hooks.onPanPinch=this._onPanPinch.bind(this);var t=this._magnifierLayer.querySelector(".js-c-figure-magnify-zoom-close"),e=this._magnifierLayer.querySelector(".js-c-figure-magnify-zoom-in"),i=this._magnifierLayer.querySelector(".js-c-figure-magnify-zoom-out");Object(x.b)(t,"click",this._hooks.onClose),Object(x.b)(e,"touchend",this._hooks.onZoomIn),Object(x.b)(i,"touchend",this._hooks.onZoomOut),this._hammer.on("pan pinch panend pinchend",this._hooks.onPanPinch)},_onPanPinch:function(t){var e=this._transform.scale,i=this._transform.x,n=this._transform.y;1!==t.scale&&(e=this._transform.scale*t.scale,e=Object(x.g)(this.minScale,this.maxScale,e)),i=this._transform.x+t.deltaX,n=this._transform.y+t.deltaY;var s=m(i,n,e,this._magnifierConfig.width,this._magnifierConfig.height);s&&(i=s.x,n=s.y),this._setImageTransform(i,n,e),"pinchend"!=t.type&&"panend"!=t.type||(this._transform.scale=e,this._transform.x=i,this._transform.y=n)},_setImageTransform:function(t,e,i){var n=["translate3d("+t+"px, "+e+"px, 0)","scale3d("+i+", "+i+", 1)"];v(this._magnifierImage,n.join(" "))},_unbindDom:function(){this._magnifierImage=null,Object(x.N)(this._magnifierLayer),this._magnifierLayer=null},_unbindEvents:function(){var t=this._magnifierLayer.querySelector(".js-c-figure-magnify-zoom-close"),e=this._magnifierLayer.querySelector(".js-c-figure-magnify-zoom-in"),i=this._magnifierLayer.querySelector(".js-c-figure-magnify-zoom-out");Object(x.O)(t,"touchend",this._hooks.onClose),Object(x.O)(e,"touchend",this._hooks.onZoomIn),Object(x.O)(i,"touchend",this._hooks.onZoomOut),this._hammer.off("pan pinch panend pinchend",this._hooks.onPanPinch),this._hooks.onClose=null,this._hooks.onZoomIn=null,this._hooks.onZoomOut=null,this._hooks.onPanPinch=null,this._hammer.destroy(),this._hammer=null},close:function(){this.isOpen&&(this.isOpen=!1,s(),this._unbindEvents(),this._unbindDom(),this.emit("close",h(this)))},constructor:g,destroy:function(){this.close(),this.removeAllListeners(),this.el=null},open:function(){this.isOpen||(this.isOpen=!0,n(),this._bindDom(),this._bindEvents(),this.zoom(this.minScale),this.emit("open",u(this)))},resize:function(){this.emit("resize",f(this))},zoom:function(t){var e=Object(x.g)(this.minScale,this.maxScale,t),i=this._transform.x,n=this._transform.y,s=m(i,n,e,this._magnifierConfig.width,this._magnifierConfig.height);s&&(i=s.x,n=s.y),this._setImageTransform(i,n,e),this._transform.scale=e,this._transform.x=i,this._transform.y=n},zoomIn:function(){this.zoom(this._transform.scale+this.scaleIncrement)},zoomOut:function(){this.zoom(this._transform.scale-this.scaleIncrement)}}),g.bindElement=function(t,e){var i=t.querySelector("."+M),n=null;Object(x.b)(i,"touchend",function(i){return i.preventDefault(),n=new g(t,e),n.open(),n.once("close",function(){n.destroy(),n=null}),!1})};var U=g,X=B;A.d&&(X=U);var G=X,J=(e.a={init:function(){k.a.init(),_()}},null),Z=!1,J=null},,,,function(t,e,i){var n;/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(s,o,r,l){"use strict";function a(t,e,i){return setTimeout(d(t,i),e)}function c(t,e,i){return!!Array.isArray(t)&&(h(t,i[e],i),!0)}function h(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==l)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function u(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=s.console&&(s.console.warn||s.console.log);return o&&o.call(s.console,n,i),t.apply(this,arguments)}}function f(t,e,i){var n,s=e.prototype;n=t.prototype=Object.create(s),n.constructor=t,n._super=s,i&&pt(n,i)}function d(t,e){return function(){return t.apply(e,arguments)}}function p(t,e){return typeof t==mt?t.apply(e?e[0]||l:l,e):t}function g(t,e){return t===l?e:t}function b(t,e,i){h(y(e),function(e){t.addEventListener(e,i,!1)})}function m(t,e,i){h(y(e),function(e){t.removeEventListener(e,i,!1)})}function v(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function _(t,e){return t.indexOf(e)>-1}function y(t){return t.trim().split(/\s+/g)}function O(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function S(t){return Array.prototype.slice.call(t,0)}function j(t,e,i){for(var n=[],s=[],o=0;o<t.length;){var r=e?t[o][e]:t[o];O(s,r)<0&&n.push(t[o]),s[o]=r,o++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function w(t,e){for(var i,n,s=e[0].toUpperCase()+e.slice(1),o=0;o<gt.length;){if(i=gt[o],(n=i?i+s:e)in t)return n;o++}return l}function T(){return jt++}function E(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||s}function I(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){p(t.options.enable,[t])&&i.handler(e)},this.init()}function k(t){var e=t.options.inputClass;return new(e||(Et?F:It?Y:Tt?X:B))(t,A)}function A(t,e,i){var n=i.pointers.length,s=i.changedPointers.length,o=e&At&&n-s==0,r=e&(Ct|Nt)&&n-s==0;i.isFirst=!!o,i.isFinal=!!r,o&&(t.session={}),i.eventType=e,x(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function x(t,e){var i=t.session,n=e.pointers,s=n.length;i.firstInput||(i.firstInput=L(e)),s>1&&!i.firstMultiple?i.firstMultiple=L(e):1===s&&(i.firstMultiple=!1);var o=i.firstInput,r=i.firstMultiple,l=r?r.center:o.center,a=e.center=z(n);e.timeStamp=yt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=D(l,a),e.distance=M(l,a),C(i,e),e.offsetDirection=q(e.deltaX,e.deltaY);var c=P(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=_t(c.x)>_t(c.y)?c.x:c.y,e.scale=r?R(r.pointers,n):1,e.rotation=r?H(r.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,N(i,e);var h=t.element;v(e.srcEvent.target,h)&&(h=e.srcEvent.target),e.target=h}function C(t,e){var i=e.center,n=t.offsetDelta||{},s=t.prevDelta||{},o=t.prevInput||{};e.eventType!==At&&o.eventType!==Ct||(s=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=s.x+(i.x-n.x),e.deltaY=s.y+(i.y-n.y)}function N(t,e){var i,n,s,o,r=t.lastInterval||e,a=e.timeStamp-r.timeStamp;if(e.eventType!=Nt&&(a>kt||r.velocity===l)){var c=e.deltaX-r.deltaX,h=e.deltaY-r.deltaY,u=P(a,c,h);n=u.x,s=u.y,i=_t(u.x)>_t(u.y)?u.x:u.y,o=q(c,h),t.lastInterval=e}else i=r.velocity,n=r.velocityX,s=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=n,e.velocityY=s,e.direction=o}function L(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:vt(t.pointers[i].clientX),clientY:vt(t.pointers[i].clientY)},i++;return{timeStamp:yt(),pointers:e,center:z(e),deltaX:t.deltaX,deltaY:t.deltaY}}function z(t){var e=t.length;if(1===e)return{x:vt(t[0].clientX),y:vt(t[0].clientY)};for(var i=0,n=0,s=0;s<e;)i+=t[s].clientX,n+=t[s].clientY,s++;return{x:vt(i/e),y:vt(n/e)}}function P(t,e,i){return{x:e/t||0,y:i/t||0}}function q(t,e){return t===e?Lt:_t(t)>=_t(e)?t<0?zt:Pt:e<0?qt:Mt}function M(t,e,i){i||(i=Bt);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return Math.sqrt(n*n+s*s)}function D(t,e,i){i||(i=Bt);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return 180*Math.atan2(s,n)/Math.PI}function H(t,e){return D(e[1],e[0],Ft)+D(t[1],t[0],Ft)}function R(t,e){return M(e[0],e[1],Ft)/M(t[0],t[1],Ft)}function B(){this.evEl=Vt,this.evWin=Yt,this.pressed=!1,I.apply(this,arguments)}function F(){this.evEl=Gt,this.evWin=Jt,I.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function W(){this.evTarget=Qt,this.evWin=Kt,this.started=!1,I.apply(this,arguments)}function V(t,e){var i=S(t.touches),n=S(t.changedTouches);return e&(Ct|Nt)&&(i=j(i.concat(n),"identifier",!0)),[i,n]}function Y(){this.evTarget=te,this.targetIds={},I.apply(this,arguments)}function U(t,e){var i=S(t.touches),n=this.targetIds;if(e&(At|xt)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var s,o,r=S(t.changedTouches),l=[],a=this.target;if(o=i.filter(function(t){return v(t.target,a)}),e===At)for(s=0;s<o.length;)n[o[s].identifier]=!0,s++;for(s=0;s<r.length;)n[r[s].identifier]&&l.push(r[s]),e&(Ct|Nt)&&delete n[r[s].identifier],s++;return l.length?[j(o.concat(l),"identifier",!0),l]:void 0}function X(){I.apply(this,arguments);var t=d(this.handler,this);this.touch=new Y(this.manager,t),this.mouse=new B(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function G(t,e){t&At?(this.primaryTouch=e.changedPointers[0].identifier,J.call(this,e)):t&(Ct|Nt)&&J.call(this,e)}function J(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches,s=function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)};setTimeout(s,ee)}}function Z(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var s=this.lastTouches[n],o=Math.abs(e-s.x),r=Math.abs(i-s.y);if(o<=ie&&r<=ie)return!0}return!1}function Q(t,e){this.manager=t,this.set(e)}function K(t){if(_(t,le))return le;var e=_(t,ae),i=_(t,ce);return e&&i?le:e||i?e?ae:ce:_(t,re)?re:oe}function $(t){this.options=pt({},this.defaults,t||{}),this.id=T(),this.manager=null,this.options.enable=g(this.options.enable,!0),this.state=ue,this.simultaneous={},this.requireFail=[]}function tt(t){return t&be?"cancel":t&pe?"end":t&de?"move":t&fe?"start":""}function et(t){return t==Mt?"down":t==qt?"up":t==zt?"left":t==Pt?"right":""}function it(t,e){var i=e.manager;return i?i.get(t):t}function nt(){$.apply(this,arguments)}function st(){nt.apply(this,arguments),this.pX=null,this.pY=null}function ot(){nt.apply(this,arguments)}function rt(){$.apply(this,arguments),this._timer=null,this._input=null}function lt(){nt.apply(this,arguments)}function at(){nt.apply(this,arguments)}function ct(){$.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ht(t,e){return e=e||{},e.recognizers=g(e.recognizers,ht.defaults.preset),new ut(t,e)}function ut(t,e){this.options=pt({},ht.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=k(this),this.touchAction=new Q(this,this.options.touchAction),ft(this,!0),h(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ft(t,e){var i=t.element;if(i.style){var n;h(t.options.cssProps,function(s,o){n=w(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=s):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function dt(t,e){var i=o.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}var pt,gt=["","webkit","Moz","MS","ms","o"],bt=o.createElement("div"),mt="function",vt=Math.round,_t=Math.abs,yt=Date.now;pt="function"!=typeof Object.assign?function(t){if(t===l||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==l&&null!==n)for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])}return e}:Object.assign;var Ot=u(function(t,e,i){for(var n=Object.keys(e),s=0;s<n.length;)(!i||i&&t[n[s]]===l)&&(t[n[s]]=e[n[s]]),s++;return t},"extend","Use `assign`."),St=u(function(t,e){return Ot(t,e,!0)},"merge","Use `assign`."),jt=1,wt=/mobile|tablet|ip(ad|hone|od)|android/i,Tt="ontouchstart"in s,Et=w(s,"PointerEvent")!==l,It=Tt&&wt.test(navigator.userAgent),kt=25,At=1,xt=2,Ct=4,Nt=8,Lt=1,zt=2,Pt=4,qt=8,Mt=16,Dt=zt|Pt,Ht=qt|Mt,Rt=Dt|Ht,Bt=["x","y"],Ft=["clientX","clientY"];I.prototype={handler:function(){},init:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b(E(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(E(this.element),this.evWin,this.domHandler)}};var Wt={mousedown:At,mousemove:xt,mouseup:Ct},Vt="mousedown",Yt="mousemove mouseup";f(B,I,{handler:function(t){var e=Wt[t.type];e&At&&0===t.button&&(this.pressed=!0),e&xt&&1!==t.which&&(e=Ct),this.pressed&&(e&Ct&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Ut={pointerdown:At,pointermove:xt,pointerup:Ct,pointercancel:Nt,pointerout:Nt},Xt={2:"touch",3:"pen",4:"mouse",5:"kinect"},Gt="pointerdown",Jt="pointermove pointerup pointercancel";s.MSPointerEvent&&!s.PointerEvent&&(Gt="MSPointerDown",Jt="MSPointerMove MSPointerUp MSPointerCancel"),f(F,I,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),s=Ut[n],o=Xt[t.pointerType]||t.pointerType,r="touch"==o,l=O(e,t.pointerId,"pointerId");s&At&&(0===t.button||r)?l<0&&(e.push(t),l=e.length-1):s&(Ct|Nt)&&(i=!0),l<0||(e[l]=t,this.callback(this.manager,s,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(l,1))}});var Zt={touchstart:At,touchmove:xt,touchend:Ct,touchcancel:Nt},Qt="touchstart",Kt="touchstart touchmove touchend touchcancel";f(W,I,{handler:function(t){var e=Zt[t.type];if(e===At&&(this.started=!0),this.started){var i=V.call(this,t,e);e&(Ct|Nt)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var $t={touchstart:At,touchmove:xt,touchend:Ct,touchcancel:Nt},te="touchstart touchmove touchend touchcancel";f(Y,I,{handler:function(t){var e=$t[t.type],i=U.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}});var ee=2500,ie=25;f(X,I,{handler:function(t,e,i){var n="touch"==i.pointerType,s="mouse"==i.pointerType;if(!(s&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)G.call(this,e,i);else if(s&&Z.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ne=w(bt.style,"touchAction"),se=ne!==l,oe="auto",re="manipulation",le="none",ae="pan-x",ce="pan-y",he=function(){if(!se)return!1;var t={},e=s.CSS&&s.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!e||s.CSS.supports("touch-action",i)}),t}();Q.prototype={set:function(t){"compute"==t&&(t=this.compute()),se&&this.manager.element.style&&he[t]&&(this.manager.element.style[ne]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return h(this.manager.recognizers,function(e){p(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),K(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var n=this.actions,s=_(n,le)&&!he[le],o=_(n,ce)&&!he[ce],r=_(n,ae)&&!he[ae];if(s){var l=1===t.pointers.length,a=t.distance<2,c=t.deltaTime<250;if(l&&a&&c)return}return r&&o?void 0:s||o&&i&Dt||r&&i&Ht?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ue=1,fe=2,de=4,pe=8,ge=pe,be=16;$.prototype={defaults:{},set:function(t){return pt(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(c(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=it(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return c(t,"dropRecognizeWith",this)?this:(t=it(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(c(t,"requireFailure",this))return this;var e=this.requireFail;return t=it(t,this),-1===O(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(c(t,"dropRequireFailure",this))return this;t=it(t,this);var e=O(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(e,t)}var i=this,n=this.state;n<pe&&e(i.options.event+tt(n)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),n>=pe&&e(i.options.event+tt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|ue)))return!1;t++}return!0},recognize:function(t){var e=pt({},t);if(!p(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(ge|be|32)&&(this.state=ue),this.state=this.process(e),this.state&(fe|de|pe|be)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},f(nt,$,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(fe|de),s=this.attrTest(t);return n&&(i&Nt||!s)?e|be:n||s?i&Ct?e|pe:e&fe?e|de:fe:32}}),f(st,nt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Rt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Dt&&e.push(ce),t&Ht&&e.push(ae),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,s=t.direction,o=t.deltaX,r=t.deltaY;return s&e.direction||(e.direction&Dt?(s=0===o?Lt:o<0?zt:Pt,i=o!=this.pX,n=Math.abs(t.deltaX)):(s=0===r?Lt:r<0?qt:Mt,i=r!=this.pY,n=Math.abs(t.deltaY))),t.direction=s,i&&n>e.threshold&&s&e.direction},attrTest:function(t){return nt.prototype.attrTest.call(this,t)&&(this.state&fe||!(this.state&fe)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=et(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),f(ot,nt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[le]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&fe)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),f(rt,$,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[oe]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(Ct|Nt)&&!s)this.reset();else if(t.eventType&At)this.reset(),this._timer=a(function(){this.state=ge,this.tryEmit()},e.time,this);else if(t.eventType&Ct)return ge;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ge&&(t&&t.eventType&Ct?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=yt(),this.manager.emit(this.options.event,this._input)))}}),f(lt,nt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[le]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&fe)}}),f(at,nt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Dt|Ht,pointers:1},getTouchAction:function(){return st.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Dt|Ht)?e=t.overallVelocity:i&Dt?e=t.overallVelocityX:i&Ht&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&_t(e)>this.options.velocity&&t.eventType&Ct},emit:function(t){var e=et(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),f(ct,$,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[re]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&At&&0===this.count)return this.failTimeout();if(n&&s&&i){if(t.eventType!=Ct)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,r=!this.pCenter||M(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,r&&o?this.count+=1:this.count=1,this._input=t;if(0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=a(function(){this.state=ge,this.tryEmit()},e.interval,this),fe):ge}return 32},failTimeout:function(){return this._timer=a(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ge&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ht.VERSION="2.0.7",ht.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[lt,{enable:!1}],[ot,{enable:!1},["rotate"]],[at,{direction:Dt}],[st,{direction:Dt},["swipe"]],[ct],[ct,{event:"doubletap",taps:2},["tap"]],[rt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ut.prototype={set:function(t){return pt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,s=e.curRecognizer;(!s||s&&s.state&ge)&&(s=e.curRecognizer=null);for(var o=0;o<n.length;)i=n[o],2===e.stopped||s&&i!=s&&!i.canRecognizeWith(s)?i.reset():i.recognize(t),!s&&i.state&(fe|de|pe)&&(s=e.curRecognizer=i),o++}},get:function(t){if(t instanceof $)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(c(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(c(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=O(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==l&&e!==l){var i=this.handlers;return h(y(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==l){var i=this.handlers;return h(y(t),function(t){e?i[t]&&i[t].splice(O(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&dt(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&ft(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},pt(ht,{INPUT_START:At,INPUT_MOVE:xt,INPUT_END:Ct,INPUT_CANCEL:Nt,STATE_POSSIBLE:ue,STATE_BEGAN:fe,STATE_CHANGED:de,STATE_ENDED:pe,STATE_RECOGNIZED:ge,STATE_CANCELLED:be,STATE_FAILED:32,DIRECTION_NONE:Lt,DIRECTION_LEFT:zt,DIRECTION_RIGHT:Pt,DIRECTION_UP:qt,DIRECTION_DOWN:Mt,DIRECTION_HORIZONTAL:Dt,DIRECTION_VERTICAL:Ht,DIRECTION_ALL:Rt,Manager:ut,Input:I,TouchAction:Q,TouchInput:Y,MouseInput:B,PointerEventInput:F,TouchMouseInput:X,SingleTouchInput:W,Recognizer:$,AttrRecognizer:nt,Tap:ct,Pan:st,Swipe:at,Pinch:ot,Rotate:lt,Press:rt,on:b,off:m,each:h,merge:St,extend:Ot,assign:pt,inherit:f,bindFn:d,prefixed:w}),(void 0!==s?s:"undefined"!=typeof self?self:{}).Hammer=ht,(n=function(){return ht}.call(e,i,e,t))!==l&&(t.exports=n)}(window,document)},function(t,e,i){var n=i(20);t.exports=function(){var t=new n.Template({code:function(t,e,i){var n=this;return n.b(i=i||""),n.b('<ul class="c-figure__magnifier-toolbar">'),n.b("\n"+i),n.b('    <li class="c-figure__magnifier-toolbar-item">'),n.b("\n"+i),n.b('        <button class="c-figure__magnifier-button c-figure__magnifier-button--close js-c-figure-magnify-zoom-close">'),n.b("\n"+i),n.b('            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28.4 28.4"><path d="M26.4 3.3l-1-.9-10.8 10.9L3.7 2.4l-.9.9 10.8 10.9L2.8 25.1l.9.9 10.9-10.9L25.4 26l1-.9-10.9-10.9"/></svg>'),n.b("\n"+i),n.b("        </button>"),n.b("\n"+i),n.b("    </li>"),n.b("\n"+i),n.b('    <li class="c-figure__magnifier-toolbar-item">'),n.b("\n"+i),n.b('        <button class="c-figure__magnifier-button c-figure__magnifier-button--zoom-in js-c-figure-magnify-zoom-in">'),n.b("\n"+i),n.b('            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28.4 28.4"><path d="M26.9 13.5H14.8V1.4h-1.3v12.1H1.4v1.3h12.1v12.1h1.3V14.8h12.1"/></svg>'),n.b("\n"+i),n.b("        </button>"),n.b("\n"+i),n.b("    </li>"),n.b("\n"+i),n.b('    <li class="c-figure__magnifier-toolbar-item">'),n.b("\n"+i),n.b('        <button class="c-figure__magnifier-button c-figure__magnifier-button--zoom-out js-c-figure-magnify-zoom-out">'),n.b("\n"+i),n.b('            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28.4 28.4"><path fill="none" stroke="#000" stroke-width="1.3" d="M1.4 14.2h25.5"/></svg>'),n.b("\n"+i),n.b("        </button>"),n.b("\n"+i),n.b("    </li>"),n.b("\n"+i),n.b("</ul>"),n.b("\n"),n.b("\n"+i),n.b('<div class="c-figure__magnifier-image">'),n.b("\n"+i),n.b('    <div class="c-figure__magnifier-image-center">'),n.b("\n"+i),n.b('        <img src="'),n.b(n.v(n.f("image_url",t,e,0))),n.b('" />'),n.b("\n"+i),n.b("    </div>"),n.b("\n"+i),n.b("</div>"),n.fl()},partials:{},subs:{}},'<ul class="c-figure__magnifier-toolbar">\n    <li class="c-figure__magnifier-toolbar-item">\n        <button class="c-figure__magnifier-button c-figure__magnifier-button--close js-c-figure-magnify-zoom-close">\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28.4 28.4"><path d="M26.4 3.3l-1-.9-10.8 10.9L3.7 2.4l-.9.9 10.8 10.9L2.8 25.1l.9.9 10.9-10.9L25.4 26l1-.9-10.9-10.9"/></svg>\n        </button>\n    </li>\n    <li class="c-figure__magnifier-toolbar-item">\n        <button class="c-figure__magnifier-button c-figure__magnifier-button--zoom-in js-c-figure-magnify-zoom-in">\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28.4 28.4"><path d="M26.9 13.5H14.8V1.4h-1.3v12.1H1.4v1.3h12.1v12.1h1.3V14.8h12.1"/></svg>\n        </button>\n    </li>\n    <li class="c-figure__magnifier-toolbar-item">\n        <button class="c-figure__magnifier-button c-figure__magnifier-button--zoom-out js-c-figure-magnify-zoom-out">\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28.4 28.4"><path fill="none" stroke="#000" stroke-width="1.3" d="M1.4 14.2h25.5"/></svg>\n        </button>\n    </li>\n</ul>\n\n<div class="c-figure__magnifier-image">\n    <div class="c-figure__magnifier-image-center">\n        <img src="{{ image_url }}" />\n    </div>\n</div>',n);return t.render.apply(t,arguments)}},function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"c",function(){return s}),i.d(e,"b",function(){return o}),i.d(e,"d",function(){return r});var n=".stick-group",s=".stick-wrapper",o=".stick-block",r="infiniteScrollHook"},,,,,,,,,,,,,,function(t,e,i){"use strict";function n(){Tt=new Ot.d(window),Object(vt.b)(window,"resize",Object(vt.l)(l,150)),mt.a.on("add",b),yt.b.on("render",c),yt.b.on("stop",h),wt.a.once("disable",function(){Tt.children.forEach(function(t){t.children.forEach(function(t){t.offset.top=60})}),Ot.b.recalculate(),Tt.sortChildren(),Tt.update()}),wt.a.once("enable",function(){Tt.children.forEach(function(t){t.children.forEach(function(t){t.offset.top=120})}),Ot.b.recalculate(),Tt.sortChildren(),Tt.update()}),l()}function s(t){return t instanceof Ot.e}function o(){Tt.children.forEach(function(t){t.children.forEach(function(t){s(t)&&t._setInitial(!0)})}),Tt.pause()}function r(){Tt.children.forEach(function(t){t.children.forEach(function(t){s(t)&&t._setNeutral(!0)})}),Tt.resume()}function l(){window.innerWidth<1024?o():(r(),Ot.b.recalculate(),Tt.sortChildren(),Tt.update())}function a(t){return function(e){var i=e.el.querySelector(".da__container");return i&&i.hasAttribute("id")&&i.getAttribute("id")===t}}function c(){Tt.recalculate(!0),Tt.sortChildren(!0)}function h(t){var e=Ot.b.obstacles.filter(a(t.ad.id));if(0===e.length&&(e=Ot.b.stickies.filter(a(t.ad.id))),0!==e.length){e=e[0];e.group.removeChild(e),e.destroy(),u()}}function u(){Ot.b.recalculate(),Tt.sortChildren(!0),Tt.update()}function f(t,e,i){var n=null,s=null,o=null;return n=t instanceof Ot.a?t:new Ot.a(t),e&&(s=Ot.e.createStick(e),s.forEach(function(t,e){null!==wt.a.infobar&&wt.a.infobar.state.isEnabled?t.offset.top=120:t.offset.top=60,e!==s.length-1?t.offset.bottom=60:t.offset.bottom=100}),n.addChildren(s,{sort:!1})),i&&(o=Ot.c.createObstacle(i),n.addChildren(o,{sort:!1})),Tt.addChild(n),n.recalculate(!0),n.sortChildren(),{group:n,obstacles:o,sticky:s}}function d(t){if(!Object(vt.A)(t,"ad__main"))return!0;var e=t.querySelector(".da__container");return!e.hasAttribute("data-ad-stopped")||"true"!==e.getAttribute("data-ad-stopped")}function p(t){var e=t.el.querySelector(".a-body"+St.a);if(e){f(e,Object(jt.h)(e.querySelectorAll(St.c)).filter(d),Object(jt.h)(e.querySelectorAll(St.b)).filter(d))}}function g(t){var e=t.el.querySelector(".js-g-view-list"+St.a);if(e){f(e,Object(jt.h)(e.querySelectorAll(St.c)).filter(d),Object(jt.h)(e.querySelectorAll(St.b)).filter(d))}}function b(t){var e=t.article;p(e),e.type!==_t.a.GALLERY&&e.type!==_t.a["SHOW-SUMMARY"]||(e.isInfinite?e.once("expand",function(){g(e),Et()}):g(e)),Et()}function m(t,e){this._btns=E(t.querySelectorAll(".c-top-stories__nav button")),this._elScroll=t.querySelector(".c-top-stories__cards"),this._scroller=null,this.el=t,this._scrollOffset=e.scrollOffset||0,Object(vt.b)(this._elScroll,"scroll",Object(vt.Q)(T.bind(this),xt)),this._btns.length>0&&(Object(vt.b)(this._btns[0],"click",this.previousItems.bind(this)),Object(vt.b)(this._btns[1],"click",this.nextItems.bind(this))),this.el.querySelectorAll(Ct).length>0&&(yt.b.init(),yt.b.on("register",k),yt.b.lazy())}function v(t){t.hasAttribute("disabled")||(t.setAttribute("disabled",!0),Object(vt.a)(t,"is-disabled"))}function _(t){t.hasAttribute("disabled")&&(t.removeAttribute("disabled"),Object(vt.M)(t,"is-disabled"))}function y(t){return E(t.querySelectorAll(".c-top-stories__cards-listitem"))}function O(t){return t.scrollLeft===t.scrollWidth-t.offsetWidth}function S(t){return 0===t.scrollLeft}function j(){this._scroller.destroy(),this._scroller=null,I(this._elScroll,this._btns)}function w(t){return function(e){return{bottom:e.bottom-t.top,height:e.height,left:e.left-t.left,right:e.right-t.left,top:e.top-t.top,width:e.width}}}function T(){I(this._elScroll,this._btns)}function E(t){for(var e=t.length,i=new Array(e);e--;)i[e]=t[e];return i}function I(t,e){S(t)?(v(e[0]),_(e[1])):O(t)?(_(e[0]),v(e[1])):(_(e[0]),_(e[1]))}function k(t){yt.c.isAdNative(t.ad,"promotion-small")&&(t.ad.once("render",A),t.ad.once("stop",x))}function A(t){t.target.off("stop",x);var e=Object(vt.t)(t.target.el,Ct);Object(vt.M)(e,"is-hidden")}function x(t){t.target.off("render",A)}function C(t){return t.replace(/[^\w\d]/gi,"")}function N(t){Dt.a.call(this),this.el=t,this.formEl=t.querySelector(".js-bb-newsletter__form"),this.emailEl=t.querySelector(".js-bb-newsletter__form-text"),this.buttonEl=t.querySelector(".js-bb-newsletter__form-button"),this.contentEl=t.querySelector(".js-bb-newsletter__content"),this.statusEl=t.querySelector(".js-bb-newsletter__status"),this.failureEl=t.querySelector(".js-bb-newsletter__failure"),this.successEl=t.querySelector(".js-bb-newsletter__success"),Object(vt.b)(this.formEl,"submit",this.onSubmit.bind(this)),Object(vt.b)(this.emailEl,"blur",function(){this.checkValidity()?Object(vt.M)(this,"has-error"):Object(vt.a)(this,"has-error")}),this.el.setAttribute("data-initialised",!0)}function L(t){return Object(vt.k)("signup",t,{bubbles:!0})}function z(){Dt.a.call(this,{wildcard:!0}),this.newsletters=[]}function P(){mt.a.on("focus",M),mt.a.on("blur",q),mt.a.on("imagefocus",D),!0===Object(jt.d)("infinite_stop")?mt.a.disableInfiniteScroll():mt.a.enableInfiniteScroll();var t=document.querySelector(".a-main"),e=null;window.__reach_config&&(e=window.__reach_config),mt.a.add(t,{ads:Object(jt.d)("ad_config"),analytics:Object(jt.d)("anal_config"),infinite:!1,simplereach:e}),null!==Pt.a.galleryNav&&Pt.a.galleryNav.on("viewchange",H),zt.lazyLoad(),Object(vt.b)(window,"scroll",Object(vt.Q)(B,100)),Object(vt.b)(window,"resize",Object(vt.l)(R,200)),Rt.init()}function q(t){Object(qt.i)(t.target)&&(Bt=null)}function M(t){var e=t.target;if(Object(qt.i)(e)){var i=e.gallery;"list"===i.layoutView?Pt.a.galleryNav.showListView():Pt.a.galleryNav.hideListView(),Pt.a.galleryNav.setTitle(e.properties.title),Pt.a.galleryNav.setCurrent(1),Pt.a.galleryNav.setTotal(e.gallery.imageElements.length),wt.a.isLoaded?null!==wt.a.infobar&&wt.a.infobar.state.isFixed&&(i._imageNavigationOffset=120,i.updateNavScroll(!0)):wt.a.once("enable",function(){i._imageNavigationOffset=120,i.updateNavScroll(!0)}),wt.a.once("disable",function(){i._imageNavigationOffset=60,i.updateNavScroll(!0)}),Bt=e}}function D(t){Pt.a.galleryNav.setCurrent(t.imageIndex+1)}function H(t){null!==Bt&&("grid"===t.view?Bt.gallery.displayThumbnailView():Bt.gallery.displayListView(),mt.a.resize(0))}function R(){Ft=window.innerHeight/2}function B(){if(null!==Bt){var t=Object(vt.z)();if("up"==Pt.a.scrollDirection)return void Pt.a.hideGallery();if(Bt.gallery.bounds.top>t+Ft)return Pt.a.unpause(),void Pt.a.hideGallery();if(Bt.gallery.bounds.bottom<t+Ft)return Pt.a.unpause(),void Pt.a.hideGallery();Pt.a.pause(),Pt.a.show(),Pt.a.showGallery()}}function F(){mt.a.on("imagefocus",Object(vt.l)(W,300)),mt.a.on("blur",V),mt.a.on("focus",Y),mt.a.on("expand",U),K(),tt(),it(),st(),rt(),lt()}function W(t){J(t.target.parentArticle,t.imageIndex)}function V(t){Yt=t.target}function Y(t){var e=t.target;e.analytics[Wt.a.getDimensionByIndex("AD_BLOCKER")]=String(!window.ads_not_blocked),(Vt||!Vt&&e.isInfinite)&&(Vt=!0,Z(e))}function U(t){X({eventCategory:"Infinite scroll",eventAction:"Expand gallery",eventLabel:t.target.properties.title})}function X(t){Wt.a.SendAll(Wt.a.SEND_HITTYPES.EVENT,t)}function G(t){return t.split(/\s/).length}function J(t,e){var i=JSON.parse(JSON.stringify(t.analytics)),n=Wt.a.getDimensionByIndex("GALLERY_PHOTO_CREDIT"),s=Wt.a.getDimensionByIndex("GALLERY_POSITION"),o=Wt.a.getDimensionByIndex("BASE_URL"),r=Wt.a.getDimensionByIndex("WORD_COUNT"),l=t.gallery.imageElements[e],a=l.querySelector(".c-figure").getAttribute("id"),c=l.querySelector(".c-figure__caption");c&&(i[r]=String(G(c.innerText)),c=null);var h=l.querySelector(".c-figure__credit");h&&(i[n]=h.innerHTML,h=null),i[s]=String(e+1),Wt.a.SetAll(i),Wt.a.SendAll(Wt.a.SEND_HITTYPES.PAGEVIEW,{page:i[o]+"#"+a,title:t.el.querySelector(".a-header__title").innerHTML}),i=null,l=null}function Z(t){Wt.a.ResetCustomDimensions(),Wt.a.SetAll(t.analytics),Wt.a.SendAll(Wt.a.SEND_HITTYPES.PAGEVIEW),X({eventCategory:"Infinite scroll",eventAction:"Next article",eventLabel:Yt.properties.url+" | "+t.properties.url})}function Q(t){var e=t.delegateTarget;X({eventCategory:"Recommended",eventAction:"Bottom Click",eventLabel:e.href+" | "+e.innerText})}function K(){Object(vt.b)(document,"click",Object(vt.m)(".c-card-section--a-recommended .c-card__link",Q))}function $(t){var e=t.delegateTarget;X({eventCategory:"Recommended",eventAction:"Read Next Click",eventLabel:e.href+" | "+e.innerText})}function tt(){Object(vt.b)(document,"click",Object(vt.m)(".a-sidebar-content .c-card__link",$))}function et(t){var e=null,i=null;if(Object(vt.A)(t.delegateTarget,"bb-card"))e="Internal Embed Click - Article";else if(Object(vt.A)(t.delegateTarget,"bb-gallery")){var n=t.delegateTarget.querySelectorAll(".bb-gallery__col");e="Internal Embed Click - Gallery:Thumbs "+n.length}else Object(vt.A)(t.delegateTarget,"bb-show-gallery")?e="Internal Embed Click - Show":Object(vt.A)(t.delegateTarget,"bb-video")&&(e="Internal Embed Click - Video");var s=t.delegateTarget.querySelector("a");i=s.href+" | "+s.innerText,X({eventCategory:"Internal Embed",eventAction:e,eventLabel:i})}function it(){Object(vt.b)(document,"click",Object(vt.m)(".bb-card, .bb-gallery, .bb-show-gallery, .bb-video",et))}function nt(t){var e=Object(vt.t)(t.delegateTarget,".c-top-stories__cards-listitem"),i=null;if(Object(vt.A)(e,"c-top-stories__cards-listitem--ad"))i="Top Stories Bar Click Pos: Native";else{var n=Object(vt.t)(t.delegateTarget,".c-top-stories__cards-list"),s=Object(jt.h)(n.querySelectorAll(".c-top-stories__cards-listitem"));s=s.filter(function(t){return!Object(vt.A)(t,"c-top-stories__cards-listitem--ad")});i="Top Stories Bar Click Pos: "+(s.indexOf(e)+1)}var o=t.delegateTarget;X({eventCategory:"Top Stories Bar",eventAction:i,eventLabel:o.href+" | "+o.innerText})}function st(){Object(vt.b)(document,"click",Object(vt.m)(".c-top-stories .c-card__link",nt))}function ot(t){var e=null,i=null;Object(vt.A)(t.delegateTarget,".btn-share")?e="Share":Object(vt.A)(t.delegateTarget,".c-figure__toolbar-listitem")&&(e="Image Share");var n=t.delegateTarget.querySelector("a");i=n.href+" | "+n.innerText,X({eventCategory:"Social",eventAction:e,eventLabel:i})}function rt(){Object(vt.b)(document,"click",Object(vt.m)(".btn-share, .c-figure__toolbar-listitem",ot))}function lt(){Rt.on("signup",function(t){var e=t.target.formEl,i=e.querySelector("[name=newsletter]").value,n=e.querySelector("[name=submit]").value;X({eventCategory:"Internal Embed",eventAction:"Internal Embed Click - Newsletter Signup",eventLabel:window.location.href+" | "+n+" | "+i})})}function at(){yt.b.on("render",ht),yt.b.on("stop",ut),mt.a.on("add",pt),mt.a.on("expand",ft),yt.b.init(),yt.b.lazy()}function ct(){var t=mt.a.focusedIndex,e=mt.a.articles.length;if(mt.a.resize(t,e),mt.a.focusedIndex>-1){var i=mt.a.articles[mt.a.focusedIndex];i.type===_t.a.GALLERY&&i.gallery.imageNavigation.resize()}}function ht(){Ut()}function ut(t){var e=Object(vt.t)(t.ad.el,".ad--article");t.ad.destroy(),e.parentNode&&e.parentNode.removeChild(e),Ut()}function ft(t){var e=t.target;yt.b.lazy(e.el),mt.a.resize(mt.a.articles.indexOf(e))}function dt(t){var e=t.target;if(null!==e.ads){var i=yt.c.createPageImpressionElement(e.ads.ad_unit,e.ads.ad_zone,e.ads.key_values);document.body.appendChild(i),yt.b.display(i)}}function pt(t){var e=t.article;t.infinite?(yt.b.display(gt(e.el)),yt.b.lazy(e.el)):yt.b.lazy(),t.infinite&&t.article.once("focus",dt)}function gt(t){return t.previousElementSibling.querySelector(".da__container")}Object.defineProperty(e,"__esModule",{value:!0});var bt=i(17),mt=i(9),vt=i(0),_t=i(4),yt=i(2),Ot=i(16),St=i(23),jt=i(3),wt=i(14),Tt=null,Et=Object(vt.l)(u,300),It=i(19),kt=i(7),At=i(12),xt=300,Ct=".c-top-stories__cards-listitem--ad";m.prototype={constructor:m,nextItems:function(){var t=Object(vt.n)(this._elScroll),e=y(this._elScroll),i=e.map(vt.n);i=i.map(w(t));for(var n=-1,s=-1,o=i.length;++s<o;)if(i[s].right>t.width){n=s;break}if(-1!==n){var r=0;window.innerWidth<=t.width&&(r=-this._scrollOffset),this.scrollTo(i[n].left+r)}},previousItems:function(){var t=Object(vt.n)(this._elScroll),e=y(this._elScroll),i=e.map(vt.n);i=i.map(w(t));for(var n=-1,s=i.length;s--;)if(i[s].left<0){n=s;break}if(-1!==n){var o=0;window.innerWidth<=t.width&&(o=this._scrollOffset),this.scrollTo(-t.width+i[n].right+o)}},scrollTo:function(t){null!==this._scroller&&(this._scroller.destroy(),this._scroller=null);var e=Object(vt.g)(0,this._elScroll.scrollWidth-this._elScroll.offsetWidth,this._elScroll.scrollLeft+t);e-=this._elScroll.scrollLeft,this._scroller=new At.a(this._elScroll),this._scroller.on("complete",j.bind(this)),this._scroller.on("stop",j.bind(this)),this._scroller.start({x:e,y:0},1e3,{stopOnUserInput:!1})},showNavigation:function(){Object(vt.A)(this.el,"has-navigation")||Object(vt.a)(this.el,"has-navigation")},hideNavigation:function(){Object(vt.A)(this.el,"has-navigation")&&Object(vt.M)(this.el,"has-navigation")},disableScroll:function(){Object(vt.A)(this.el,"has-no-scroll")||Object(vt.a)(this.el,"has-no-scroll")},enableScroll:function(){Object(vt.A)(this.el,"has-no-scroll")&&Object(vt.M)(this.el,"has-no-scroll")}};var Nt=m,Lt=[],zt={init:function(t){for(var e=document.querySelectorAll(".c-top-stories"),i=t||{},n=null,s=0,o=e.length;s<o;s++)n=new Nt(e[s],i),Lt.push(n);n=null,It.a.init()},get:function(){return Lt},lazyLoad:function(){var t=document.querySelector(".js-c-top-stories-lazy-load");return t?new Promise(function(e){var i=t.getAttribute("data-article-uid"),n=Object(kt.getTestAdValues)(),s=Object.keys(n).reduce(function(t,e){return null!==n[e]&&(t[e]=n[e]),t},{});s.article_uid=C(i);var o=Object(vt.T)("/xhr/top-stories",s);Object(vt.e)({url:o}).then(function(i){var n=i.request,s=n.responseText,o=JSON.parse(s),r=o.data.template;t.innerHTML=r,this.init({scrollOffset:30});var l=this.get();l.length>0&&(l[0].showNavigation(),l[0].disableScroll()),e(l[0])}.bind(this))}.bind(this)):Promise.resolve(null)}},Pt=i(13),qt=i(8),Mt=i(1),Dt=i.n(Mt);N.prototype=Object(vt.C)(Dt.a.prototype,{onSubmit:function(t){t.preventDefault();var e=new FormData(t.target);this.emailEl.setAttribute("disabled",!0),this.buttonEl.setAttribute("disabled",!0);var i=new XMLHttpRequest;i.open("POST",t.target.getAttribute("action"),!0),i.onreadystatechange=function(){i.readyState==XMLHttpRequest.DONE&&(Object(vt.a)(this.contentEl,"is-hidden"),Object(vt.M)(this.statusEl,"is-hidden"),200===i.status?(Object(vt.M)(this.successEl,"is-hidden"),this.emit("signup",L(this))):Object(vt.M)(this.failureEl,"is-hidden"))}.bind(this),i.send(e)}});var Ht=N;z.prototype=Object(vt.C)(Dt.a.prototype,{_handleNewsletterEvents:function(t,e){e.bubbles&&this.emit(t,e)},init:function(){for(var t=document.querySelectorAll(".js-bb-newsletter"),e=0;e<t.length;e++)if(!t[e].hasAttribute("data-initialised")){var i=new Ht(t[e]);i.onAny(this._handleNewsletterEvents.bind(this)),this.newsletters.push(i)}}});var Rt=new z,Bt=null,Ft=window.innerHeight/2,Wt=i(11),Vt=!1,Yt=null,Ut=Object(vt.l)(ct,300);!function(){bt.a.init(),n(),F(),P(),at(),Object(jt.c)().ArticleManager=mt.a}()}],[37]);
//# sourceMappingURL=article.min.js.map